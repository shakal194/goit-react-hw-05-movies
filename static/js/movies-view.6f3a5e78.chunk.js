"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[163],{383:function(e,t,n){n.d(t,{Ai:function(){return m},Hx:function(){return p},Tg:function(){return s},Y5:function(){return l},xc:function(){return f}});var r=n(861),a=n(757),i=n.n(a),c="144759315794452de88e97e5f388b34e";function o(){return u.apply(this,arguments)}function u(){return u=(0,r.Z)(i().mark((function e(){var t,n,r,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,n);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function s(){return o("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(c))}function l(e){return o("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(c,"&language=en-US"))}function f(e){return o("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(c,"&language=en-US"))}function p(e){return o("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(c,"&language=en-US"))}function m(e){return o("\n  https://api.themoviedb.org/3/search/movie?api_key=".concat(c,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"))}},669:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(504),a="MoviesLinkList_movies__link__QqApb",i="MoviesLinkList_movies__item__lD0Lg",c=n(184);function o(e){return e&&(0,c.jsx)("ul",{children:e.data.map((function(e){var t=e.id,n=e.original_title;return(0,c.jsx)("li",{className:i,children:(0,c.jsx)(r.OL,{className:a,to:"/movies/".concat(t),children:n})},t)}))})}},960:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(152),a=n(791),i=n(871),c=n(383),o=n(669),u="MoviesView_form__btn__Zuk9e",s=n(184);function l(){var e,t=(0,a.useState)(null),n=(0,r.Z)(t,2),l=n[0],f=n[1],p=(0,i.s0)(),m=(0,i.TH)(),v=m.pathname,h=m.search,d=null;!function(){var e=window.sessionStorage.getItem("prevRoute");e.includes("search")&&(d=e.slice(15))}(),(0,a.useEffect)((function(){var e=h.slice(8);e&&(0,c.Ai)(e).then(f)}),[h]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.query.value.trim();t&&(p("".concat(v,"?search=").concat(t)),window.sessionStorage.setItem("prevRoute","".concat(v,"?search=").concat(t)))},children:[(0,s.jsx)("input",{name:"query",defaultValue:null!==(e=d)&&void 0!==e?e:"",type:"text"}),(0,s.jsx)("input",{className:u,type:"submit",value:"Search"})]}),l&&(0,s.jsx)(o.Z,{data:l.results})]})}}}]);
//# sourceMappingURL=movies-view.6f3a5e78.chunk.js.map